<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <title>Livraria Online</title>
        <link rel="stylesheet" href="css/style-principal.css">
        <link rel="stylesheet" href="css/style-detalhe.css">
    </head>
    <body>
        <header>
            <div class="logo"><img src="../imagens/livraria-img.png" height="40px" width="40px">  Livraria Online</div>
            <nav class="navBar">
                <a href="paginaPrincipal.html">Home</a>
                <a href="carrinhoDeCompras.html"><img src="../imagens/carrinho-img.png" class="carrinho"></a>
            </nav>
        </header>

        <main>
            <div style="display: flex; flex-direction: column;align-items: center;">
                <h1>Cadastrar Novo Cliente</h1>
                <div id="formCliente">
                    <label class="label" >Nome:</label><br>
                    <input type="text" id="nome" required><br><br>

                    <label class="label">CPF:</label><br>
                    <input type="text" id="cpf" placeholder="000.000.000-00" required><br><br>

                    <label class="label">E-mail:</label><br>
                    <input type="text" id="email"><br><br>

                    <label class="label">Celular:</label><br>
                    <input type="text" id="celular" placeholder="(00) 00000-0000" required><br><br>

                </div>
                <button class="button-comprar" onclick="cadastrarCliente()">Cadastrar</button>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 Livraria Online - Todos os direitos reservados</p>
        </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script>

        $("#cpf").mask('000.000.000-00');
        $("#celular").mask('(00) 00000-0000');

        function cadastrarCliente() {
            $.ajax({
                url: "http://localhost:8080/clientes",
                method: "POST",
                contentType: "application/json",
                data: JSON.stringify({
                    nome: $("#nome").val(),
                    cpf: $("#cpf").val(),
                    email: $("#email").val(),
                    celular: $("#celular").val()
                })
            }).done (
                function() {
                    alert("Cliente cadastrado com sucesso!");
                    window.location.href = "paginaPrincipal.html";
                }
            ).fail(
                function() {
                    alert("Erro ao cadastrar o cliente!");
                }
            );
        }
    </script>
</body>
</html>